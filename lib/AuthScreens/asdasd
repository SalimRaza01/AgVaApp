// class _SignInState extends State<SignIn> {
//   TextEditingController emailController = TextEditingController();
//   TextEditingController passwordController = TextEditingController();

//   bool passwordVisible = true;
//   late SharedPreferences prefs; 

//   @override
//   void initState(){
//     super.initState();
//     initSharedPref();
//   }

//   void initSharedPref() async{
//     prefs = await SharedPreferences.getInstance();
//   }

//   void signIn() async {
//     if (prefs == null) {
//       // Handle the case where prefs is not initialized yet.
//       print('SharedPreferences not initialized.');
//       return;
//     }

//     if (emailController.text.isNotEmpty && passwordController.text.isNotEmpty) {
//       try {
//         var response = await http.post(
//           Uri.parse(login),
//           headers: {"Content-Type": "application/json"},
//           body: jsonEncode({
//             "email": emailController.text,
//             "password": passwordController.text,
//           }),
//         );

//         if (response.statusCode == 200) {
//           var jsonResponse = jsonDecode(response.body);
//           if (jsonResponse['status'] == true) {
//             var myToken = jsonResponse['token'];
//             prefs.setString('token', myToken);
//             Navigator.push(
//               context,
//               MaterialPageRoute(builder: (context) => HomeScreen(token: myToken)),
//             );
//           }
//         } else {
//           print('Invalid User Credential: ${response.statusCode}');
//         }
//       } catch (e) {
//         print('Error: $e');
//       }
//     }
//   }
// }
